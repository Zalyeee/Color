<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>C√≠rculo Crom√°tico Interativo</title>

<style>
* {
    box-sizing: border-box;
}

body {
    margin: 0;
    background: black;
    color: white;
    font-family: Arial, sans-serif;
    text-align: center;
}

h1 {
    margin-top: 20px;
}

.container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 40px;
    margin-top: 30px;
}

/* üîµ C√çRCULO */
.wheel-container {
    background: black;
    border-radius: 50%;
}

#wheel {
    width: 280px;
    cursor: pointer;
    mix-blend-mode: screen; /* REMOVE O FUNDO BRANCO */
}

/* üñºÔ∏è PREVIEW */
#preview {
    width: 300px;
    height: 300px;
    background: #000;
    border-radius: 12px;
    overflow: hidden;
    position: relative;
    border: 1px solid #333;
}

#preview img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    position: absolute;
    opacity: 0;
    transition: opacity 0.6s ease;
}

#preview img.active {
    opacity: 1;
}

/* üì∑ INPUTS */
.inputs {
    margin: 40px auto;
    max-width: 700px;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
    gap: 15px;
}

label {
    font-size: 14px;
    background: #111;
    padding: 10px;
    border-radius: 8px;
    border: 1px solid #333;
    cursor: pointer;
}

input[type="file"] {
    margin-top: 6px;
    width: 100%;
}
</style>
</head>

<body>

<h1>üé® C√≠rculo Crom√°tico</h1>
<p>Clique no c√≠rculo para trocar a imagem</p>

<div class="container">
    <div class="wheel-container">
        <img id="wheel" src="color-wheel.png" alt="C√≠rculo Crom√°tico">
    </div>

    <div id="preview">
        <span style="opacity:0.4;line-height:300px;">Imagem aqui</span>
    </div>
</div>

<h2>üì∑ Escolha as imagens</h2>

<div class="inputs">
    <label>Vermelho
        <input type="file" accept="image/*" data-color="vermelho">
    </label>
    <label>Amarelo
        <input type="file" accept="image/*" data-color="amarelo">
    </label>
    <label>Verde
        <input type="file" accept="image/*" data-color="verde">
    </label>
    <label>Ciano
        <input type="file" accept="image/*" data-color="ciano">
    </label>
    <label>Azul
        <input type="file" accept="image/*" data-color="azul">
    </label>
    <label>Roxo
        <input type="file" accept="image/*" data-color="roxo">
    </label>
</div>

<script>
const wheel = document.getElementById("wheel");
const preview = document.getElementById("preview");
const inputs = document.querySelectorAll("input[type=file]");

const imagens = {};
let imagemAtual = null;

// Carregar imagens escolhidas
inputs.forEach(input => {
    input.addEventListener("change", () => {
        const file = input.files[0];
        if (!file) return;

        const reader = new FileReader();
        reader.onload = () => {
            imagens[input.dataset.color] = reader.result;
        };
        reader.readAsDataURL(file);
    });
});

// Clique no c√≠rculo
wheel.addEventListener("click", (e) => {
    const rect = wheel.getBoundingClientRect();
    const x = e.clientX - rect.left - rect.width / 2;
    const y = e.clientY - rect.top - rect.height / 2;

    let angle = Math.atan2(y, x) * (180 / Math.PI);
    angle = (angle + 360) % 360;

    let cor = "";

    if (angle >= 330 || angle < 30) cor = "vermelho";
    else if (angle >= 30 && angle < 90) cor = "amarelo";
    else if (angle >= 90 && angle < 150) cor = "verde";
    else if (angle >= 150 && angle < 210) cor = "ciano";
    else if (angle >= 210 && angle < 270) cor = "azul";
    else if (angle >= 270 && angle < 330) cor = "roxo";

    if (!imagens[cor]) return;

    const img = document.createElement("img");
    img.src = imagens[cor];
    preview.appendChild(img);

    requestAnimationFrame(() => {
        img.classList.add("active");
    });

    if (imagemAtual) {
        imagemAtual.classList.remove("active");
        setTimeout(() => imagemAtual.remove(), 600);
    }

    imagemAtual = img;
});
</script>

</body>
</html>
