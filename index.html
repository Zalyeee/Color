<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>C√≠rculo Crom√°tico Pro</title>

<style>
* { box-sizing: border-box; }

body {
    margin: 0;
    background: black;
    color: white;
    font-family: Arial, sans-serif;
    overflow: hidden;
}

/* ====== P√ÅGINAS ====== */
.page {
    position: absolute;
    inset: 0;
    display: none;
    padding: 20px;
}

.page.active {
    display: block;
}

/* ====== FUNDO ANIMADO ====== */
#bg {
    position: fixed;
    inset: 0;
    background-size: cover;
    background-position: center;
    filter: blur(40px) brightness(0.5);
    transform: scale(1.2);
    animation: zoom 10s ease-in-out infinite alternate;
    z-index: -1;
}

@keyframes zoom {
    from { transform: scale(1.2); }
    to   { transform: scale(1.35); }
}

/* ====== C√çRCULO ====== */
.wheel-wrap {
    display: flex;
    justify-content: center;
    margin-top: 40px;
}

.wheel {
    width: 280px;
    height: 280px;
    border-radius: 50%;
    background: linear-gradient(
        red, yellow, lime, cyan, blue, magenta, red
    );
    cursor: pointer;

    -webkit-mask: url("color-wheel.png") center/contain no-repeat;
    mask: url("color-wheel.png") center/contain no-repeat;

    animation: spin 30s linear infinite;
    box-shadow:
        0 0 20px rgba(255,255,255,.3),
        0 0 60px rgba(255,255,255,.15);
}

@keyframes spin {
    from { rotate: 0deg; }
    to   { rotate: 360deg; }
}

/* ====== BOLINHA ====== */
.handle {
    position: absolute;
    width: 14px;
    height: 14px;
    background: white;
    border-radius: 50%;
    box-shadow: 0 0 10px white;
    pointer-events: none;
}

/* ====== PREVIEW ====== */
#preview {
    width: 260px;
    height: 260px;
    margin: 30px auto;
    border-radius: 14px;
    overflow: hidden;
    position: relative;
}

#preview img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    position: absolute;
    opacity: 0;
    transform: scale(1.1);
    transition: opacity .6s ease, transform .6s ease;
}

#preview img.active {
    opacity: 1;
    transform: scale(1);
}

/* ====== PICKER ====== */
.inputs {
    max-width: 500px;
    margin: auto;
    display: grid;
    gap: 10px;
}

label {
    background: #111;
    padding: 12px;
    border-radius: 10px;
    border: 1px solid #333;
}

/* ====== BOT√ÉO ====== */
button {
    margin-top: 20px;
    padding: 12px;
    background: white;
    border: none;
    border-radius: 20px;
    font-weight: bold;
}
</style>
</head>

<body>

<div id="bg"></div>

<!-- ====== P√ÅGINA 1 ====== -->
<div class="page active" id="page-picker">
    <h2>üì∑ Escolha as imagens</h2>

    <div class="inputs">
        <label>Vermelho <input type="file" data-c="vermelho"></label>
        <label>Amarelo <input type="file" data-c="amarelo"></label>
        <label>Verde <input type="file" data-c="verde"></label>
        <label>Ciano <input type="file" data-c="ciano"></label>
        <label>Azul <input type="file" data-c="azul"></label>
        <label>Roxo <input type="file" data-c="roxo"></label>
    </div>

    <button onclick="start()">Ir para o c√≠rculo</button>
</div>

<!-- ====== P√ÅGINA 2 ====== -->
<div class="page" id="page-wheel">
    <div class="wheel-wrap" id="wrap">
        <div class="wheel" id="wheel"></div>
        <div class="handle" id="handle"></div>
    </div>

    <div id="preview"></div>
</div>

<script>
const imagens = {};
const bg = document.getElementById("bg");
const preview = document.getElementById("preview");
const handle = document.getElementById("handle");
const wrap = document.getElementById("wrap");

let atual = null;

// carregar imagens
document.querySelectorAll("input").forEach(i => {
    i.onchange = () => {
        const r = new FileReader();
        r.onload = () => imagens[i.dataset.c] = r.result;
        r.readAsDataURL(i.files[0]);
    };
});

function start() {
    document.getElementById("page-picker").classList.remove("active");
    document.getElementById("page-wheel").classList.add("active");
}

// l√≥gica do c√≠rculo
wrap.onpointermove = e => {
    const r = wrap.getBoundingClientRect();
    const cx = r.left + r.width/2;
    const cy = r.top + r.height/2;

    const dx = e.clientX - cx;
    const dy = e.clientY - cy;
    const dist = Math.hypot(dx, dy);

    if (dist < 90 || dist > 140) return; // s√≥ o anel

    const ang = (Math.atan2(dy, dx) * 180 / Math.PI + 360) % 360;

    const x = Math.cos(ang * Math.PI/180) * 140;
    const y = Math.sin(ang * Math.PI/180) * 140;

    handle.style.left = cx + x - 7 + "px";
    handle.style.top  = cy + y - 7 + "px";

    let cor =
        ang < 30 || ang >= 330 ? "vermelho" :
        ang < 90 ? "amarelo" :
        ang < 150 ? "verde" :
        ang < 210 ? "ciano" :
        ang < 270 ? "azul" :
        "roxo";

    if (!imagens[cor]) return;

    const img = document.createElement("img");
    img.src = imagens[cor];
    preview.appendChild(img);
    bg.style.backgroundImage = `url(${imagens[cor]})`;

    requestAnimationFrame(() => img.classList.add("active"));

    if (atual) {
        atual.classList.remove("active");
        setTimeout(() => atual.remove(), 600);
    }
    atual = img;
};
</script>

</body>
</html>
